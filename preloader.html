<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Film Studio Preloader</title>
  <style>
    /* ===== PRELOADER STYLES ===== */
    .preloader {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg, #0c0f16 0%, #1a1f2e 100%);
      display: flex; align-items: center; justify-content: center;
      z-index: 9999;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    .preloader.hidden { opacity: 0; visibility: hidden; }

    .preloader-content { text-align: center; position: relative; }

    .preloader-logo {
      width: 80px; height: 80px; margin: 0 auto 50px;
      border-radius: 12px; overflow: hidden;
      background: linear-gradient(45deg, var(--brand, #ff9f43), #ffd6a8);
      display: flex; align-items: center; justify-content: center;
      animation: logoPulse 2.5s ease-in-out infinite;
      box-shadow: 0 20px 40px rgba(255, 159, 67, 0.3);
    }
    .preloader-logo img { width: 65%; height: 65%; object-fit: contain; filter: brightness(0) invert(1); }

    @keyframes logoPulse {
      0%, 100% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.05) rotate(2deg); }
      50% { transform: scale(1.1) rotate(0deg); }
      75% { transform: scale(1.05) rotate(-2deg); }
    }

    .preloader-text {
      font-size: 24px; font-weight: 700; color: var(--text, #fff);
      margin-bottom: 40px; letter-spacing: 2px;
      position: relative;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }
    .preloader-text::after {
      content: '';
      position: absolute; bottom: -10px; left: 50%;
      transform: translateX(-50%);
      width: 0; height: 3px;
      background: linear-gradient(90deg, var(--brand, #ff9f43), #ffd6a8);
      animation: textUnderline 2.5s ease-in-out infinite;
      border-radius: 2px;
    }
    @keyframes textUnderline {
      0% { width: 0; opacity: 0; }
      50% { width: 100%; opacity: 1; }
      100% { width: 0; opacity: 0; }
    }

    .loading-bar {
      width: 300px; height: 4px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px; overflow: hidden;
      margin-bottom: 30px;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
    }
    .loading-progress {
      height: 100%; width: 0%;
      background: linear-gradient(90deg, var(--brand, #ff9f43), #ffd6a8, var(--brand, #ff9f43));
      border-radius: 4px;
      transition: width 0.4s ease;
      background-size: 200% 100%;
      animation: gradientShift 2s ease-in-out infinite;
      position: relative;
    }
    @keyframes gradientShift {
      0%,100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .loading-progress::after {
      content: ''; position: absolute; top:0; left:0; right:0; bottom:0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
      animation: shimmer 1.5s ease-in-out infinite;
    }
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .loading-steps {
      display: flex; gap: 40px; justify-content: center;
    }
    .loading-step {
      font-size: 12px; color: var(--muted, #ccc);
      opacity: 0.3; transition: all 0.5s ease;
      text-transform: uppercase; letter-spacing: 1px; font-weight: 600;
    }
    .loading-step.active {
      opacity: 1; color: var(--brand, #ff9f43);
      transform: scale(1.2);
      text-shadow: 0 0 10px rgba(255, 159, 67, 0.5);
    }
    .loading-step.completed { opacity: 0.8; color: var(--ok, #4caf50); }

    /* FLASH EFFECT */
    .flash {
      position: fixed; top:0; left:0; width:100%; height:100%;
      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
      z-index: 9998; opacity: 0; pointer-events: none;
      transition: opacity 0.4s ease;
    }
    .flash.active { opacity: 1; }

    /* LANDING PAGE */
    .landing-page {
      opacity: 0; transition: opacity 1s ease;
    }
    .landing-page.show { opacity: 1; }

    /* HERO TITLE ANIMATION CONTROL */
    .hero-title span {
      animation: none;
      opacity: 0;
      display: inline-block;
    }
    .hero-title.animate span {
      animation: fadeInUp 0.6s forwards;
    }
    .hero-title.animate span:nth-child(1) { animation-delay: 0.1s; }
    .hero-title.animate span:nth-child(2) { animation-delay: 0.4s; }
    .hero-title.animate span:nth-child(3) { animation-delay: 0.7s; }

    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ===== SCROLL-BASED ANIMATIONS ===== */
    .fade-in-up,
    .fade-in,
    .fade-left,
    .fade-right {
      opacity: 0;
      transition: opacity 0.8s ease, transform 0.8s ease;
      will-change: opacity, transform;
    }
    .fade-in-up {
      transform: translateY(20px);
    }
    .fade-in {
      transform: none;
    }
    .fade-left {
      transform: translateX(-20px);
    }
    .fade-right {
      transform: translateX(20px);
    }
    .fade-in-up.visible,
    .fade-in.visible,
    .fade-left.visible,
    .fade-right.visible {
      opacity: 1;
      transform: translateX(0) translateY(0);
      transition-duration: 1s;
    }
  </style>
</head>
<body>
  <!-- ===== PRELOADER ===== -->
  <div class="preloader">
    <div class="preloader-content">
      <div class="preloader-logo"><img src="logo.png" alt="Logo"></div>
      <div class="preloader-text">Post Production Studio</div>

      <div class="loading-bar"><div class="loading-progress" id="progress"></div></div>

      <div class="loading-steps">
        <div class="loading-step" id="step1">Rendering</div>
        <div class="loading-step" id="step2">Assets</div>
        <div class="loading-step" id="step3">Editing</div>
        <div class="loading-step" id="step4">Final Output</div>
      </div>
    </div>
  </div>

  <div class="flash" id="flash"></div>

  <!-- ===== LANDING PAGE ===== -->
  <div class="landing-page fade-in-up" id="landing">
    <h1 class="hero-title fade-in-up">
      <span>Next Level</span>
      <span>Amazing</span>
      <span>Videographer</span>
    </h1>
    <p class="fade-in">Cinematic Post-Production & VFX</p>
  </div>

  <!-- ===== SOUND EFFECT ===== -->
  <audio id="flashSound" src="camera-flash.mp3" preload="auto"></audio>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const progress = document.getElementById("progress");
      const steps = [
        document.getElementById("step1"),
        document.getElementById("step2"),
        document.getElementById("step3"),
        document.getElementById("step4")
      ];
      const preloader = document.querySelector(".preloader");
      const flash = document.getElementById("flash");
      const landing = document.getElementById("landing");
      const flashSound = document.getElementById("flashSound");

      let currentStep = 0;
      let progressWidth = 0;

      function loadStep() {
        if (currentStep > 0) steps[currentStep - 1].classList.remove("active");
        if (currentStep > 1) steps[currentStep - 2].classList.add("completed");

        if (currentStep < steps.length) {
          steps[currentStep].classList.add("active");
          progressWidth += 25;
          progress.style.width = progressWidth + "%";
          currentStep++;
          setTimeout(loadStep, 1200);
        } else {
          // Done loading â†’ flash + sound
          preloader.classList.add("hidden");
          flash.classList.add("active");
          flashSound.play(); // play camera flash / projector sound
          setTimeout(() => {
            flash.classList.remove("active");
            landing.classList.add("show");
            // Wait for landing fade-in (1s) before triggering hero title animation
            setTimeout(() => {
              const heroTitle = document.querySelector(".hero-title");
              if (heroTitle) {
                heroTitle.classList.add("animate");
              }
            }, 1000);
          }, 500);
        }
      }

      setTimeout(loadStep, 1000);

      // IntersectionObserver for scroll-based animations
      const observerOptions = {
        threshold: 0.1
      };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      const animElements = document.querySelectorAll('.fade-in-up, .fade-in, .fade-left, .fade-right');
      animElements.forEach(el => observer.observe(el));
    });
  </script>
</body>
</html>